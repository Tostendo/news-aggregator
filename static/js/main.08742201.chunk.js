(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(23),r=n.n(a),o=n(9),i=(n(32),n(13)),l=n(14),d=n(17),u=n(16),h=(n(33),n(1)),j=function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("span",{children:["Icons erstellt von"," ",Object(h.jsx)("a",{href:"https://www.flaticon.com/de/autoren/freepik",title:"Freepik",children:"Freepik"})," ","from"," ",Object(h.jsxs)("a",{href:"https://www.flaticon.com/de/",title:"Flaticon",children:[" ","www.flaticon.com"]})]})})},f=n(2),b=(n(35),n(36),function(){return Object(h.jsx)("nav",{className:"navbar",children:Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:Object(h.jsx)(o.b,{to:"/create",children:"Create Feed"})})})})}),m=n(26),p=(n(43),function(){return Object(h.jsx)("div",{className:"spinner-overlay",children:Object(h.jsx)("div",{className:"spinner-container"})})}),O=(n(44),function(e){try{var t=new Date(e);return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()}catch(n){return console.error("Could not parse date: ",n),e}}),x=function(e){return Object(h.jsxs)("a",{className:"card-container",target:"_blank",rel:"noopener noreferrer",href:e.message.link,children:[Object(h.jsx)("div",{className:"feed-name",children:e.message.feed_name}),Object(h.jsx)("h2",{children:e.message.title}),Object(h.jsxs)("div",{className:"card-meta",children:[Object(h.jsx)("span",{children:e.message.author}),Object(h.jsx)("span",{children:O(e.message.published)})]}),Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:e.message.summary}})]})},v=(n(45),function(e){return Object(h.jsx)("div",{className:"card-list",children:e.news.map((function(e){return Object(h.jsx)(x,{message:e},e.link)}))})}),w=(n(46),function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("input",{className:"search",type:"search",placeholder:e.placeholder,onChange:e.handleSearch})})}),S=n(21),g=n(27),C=(n(47),["children"]),k=function(e){var t=e.children,n=Object(g.a)(e,C);return Object(h.jsx)("button",Object(S.a)(Object(S.a)({className:"custom-button"},n),{},{children:t}))},N=(n(48),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(i.a)(this,n),(c=t.call(this,e)).loadData=function(){c.setState({isLoading:!0});var e=null;c.props.match&&c.props.match.params&&c.props.match.params.feedId&&""!==c.props.match.params.feedId&&"example"!==c.props.match.params.feedId?e="".concat("https://news-me-backend.herokuapp.com","/api/feeds/").concat(c.props.match.params.feedId):(e="".concat("https://news-me-backend.herokuapp.com","/api/feeds"),console.error("No feedId, use default")),fetch(e).then((function(e){return e.json()})).then((function(e){return c.setState({isLoading:!1,news:e.entries,allSources:e.sources.map((function(e){return{label:e,value:e.toLowerCase()}}))})})).catch((function(e){c.setState({isLoading:!1}),console.error(e)}))},c.handleSearch=function(e){c.setState({searchField:e.target.value})},c.handleSelect=function(e){c.setState({selectedSources:e})},c.getFilteredResults=function(){var e=c.state,t=e.news,n=e.searchField,s=e.selectedSources;if(!n&&0===s.length)return t;var a=s.map((function(e){return e.value}));return n?0===s.length?t.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())||e.feed_name.toLowerCase().includes(n.toLowerCase())})):t.filter((function(e){return(e.title.toLowerCase().includes(n.toLowerCase())||e.feed_name.toLowerCase().includes(n.toLowerCase()))&&a.includes(e.feed_name.toLowerCase())})):t.filter((function(e){return a.includes(e.feed_name.toLowerCase())}))},c.state={isLoading:!0,news:[],filtered:[],searchField:"",allSources:[],selectedSources:[]},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.getFilteredResults();return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"News Me"}),Object(h.jsxs)("div",{className:"filters",children:[Object(h.jsx)(w,{placeholder:"Search news..",handleSearch:this.handleSearch}),Object(h.jsx)(m.a,{options:this.state.allSources,value:this.state.selectedSources,onChange:this.handleSelect,labelledBy:"Select",overrideStrings:{selectSomeItems:"Select feeds ...",allItemsAreSelected:"All feeds are selected.",selectAll:"Select All",search:"Search"}})]}),Object(h.jsx)(k,{onClick:function(){return e.loadData()},children:Object(h.jsx)("div",{className:"icon-reload"})}),this.state.isLoading?Object(h.jsx)(p,{}):Object(h.jsx)(v,{news:t})]})}}]),n}(c.Component)),L=n(4),y=(n(49),Object(f.f)((function(e){var t=Object(c.useState)(""),n=Object(L.a)(t,2),s=n[0],a=n[1];return Object(h.jsxs)("div",{className:"create-feed",children:[Object(h.jsx)("h1",{children:"Create Feed"}),Object(h.jsx)("p",{className:"note",children:"Comma separated list of rss feeds"}),Object(h.jsx)("textarea",{onChange:function(e){a(e.target.value)},rows:10,value:s}),Object(h.jsx)(k,{onClick:function(){fetch("".concat("https://news-me-backend.herokuapp.com","/api/feeds/create"),{method:"POST",body:JSON.stringify({feeds:s})}).then((function(e){return e.json()})).then((function(t){return e.history.push("/feed/".concat(t.feed_id))})).catch((function(e){console.error(e)}))},children:" Save"})]})}))),F=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{}),Object(h.jsxs)(f.c,{children:[Object(h.jsx)(f.a,{path:"/create",children:Object(h.jsx)(y,{})}),Object(h.jsx)(f.a,{path:"/feed/:feedId",render:function(e){var t=e.match;return Object(h.jsx)(N,{match:t})}}),Object(h.jsx)(f.a,{path:"/",render:function(){return Object(h.jsx)(N,{match:null})}})]}),Object(h.jsx)(j,{})]})}}]),n}(c.Component),I=F;r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(I,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.08742201.chunk.js.map