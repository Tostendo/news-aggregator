(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(23),r=n.n(s),o=n(9),i=(n(32),n(12)),l=n(14),d=n(15),u=n(18),h=n(17),j=(n(33),n(1)),f=function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsxs)("span",{children:["Icons erstellt von"," ",Object(j.jsx)("a",{href:"https://www.flaticon.com/de/autoren/freepik",title:"Freepik",children:"Freepik"})," ","from"," ",Object(j.jsxs)("a",{href:"https://www.flaticon.com/de/",title:"Flaticon",children:[" ","www.flaticon.com"]})]})})},m=n(2),p=(n(35),n(36),function(){var e=Object(m.f)(),t=function(){return e&&e.pathname&&e.pathname.split("/").length>1&&e.pathname.split("/")[2]?e.pathname.split("/")[2]:null};return Object(j.jsx)("nav",{className:"navbar",children:Object(j.jsxs)("ul",{children:[t()&&Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/feed/".concat(t(),"/edit"),children:"Edit Feed"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/create",children:"Create Feed"})})]})})}),b=n(26),O=(n(43),function(){return Object(j.jsx)("div",{className:"spinner-overlay",children:Object(j.jsx)("div",{className:"spinner-container"})})}),x=(n(44),function(e){try{var t=new Date(e);return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()}catch(n){return console.error("Could not parse date: ",n),e}}),v=function(e){return Object(j.jsxs)("a",{className:"card-container",target:"_blank",rel:"noopener noreferrer",href:e.message.link,children:[Object(j.jsx)("div",{className:"feed-name",children:e.message.feed_name}),Object(j.jsx)("h2",{children:e.message.title}),Object(j.jsxs)("div",{className:"card-meta",children:[Object(j.jsx)("span",{children:e.message.author}),Object(j.jsx)("span",{children:x(e.message.published)})]}),Object(j.jsx)("p",{dangerouslySetInnerHTML:{__html:e.message.summary}})]})},w=(n(45),function(e){return Object(j.jsx)("div",{className:"card-list",children:e.news.map((function(e){return Object(j.jsx)(v,{message:e},e.link)}))})}),S=(n(46),function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("input",{className:"search",type:"search",placeholder:e.placeholder,onChange:e.handleSearch})})}),g=n(27),k=(n(47),["children"]),C=function(e){var t=e.children,n=Object(g.a)(e,k);return Object(j.jsx)("button",Object(i.a)(Object(i.a)({className:"custom-button"},n),{},{children:t}))},y=(n(48),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).loadData=function(){c.setState({isLoading:!0});var e=null;c.props.match&&c.props.match.params&&c.props.match.params.feedId&&""!==c.props.match.params.feedId&&"example"!==c.props.match.params.feedId?e="".concat("https://news-me-backend.herokuapp.com","/api/feeds/").concat(c.props.match.params.feedId):(e="".concat("https://news-me-backend.herokuapp.com","/api/feeds"),console.error("No feedId, use default")),fetch(e).then((function(e){return e.json()})).then((function(e){return c.setState({isLoading:!1,news:e.entries,allSources:e.sources.map((function(e){return{label:e,value:e.toLowerCase()}}))})})).catch((function(e){c.setState({isLoading:!1}),console.error(e)}))},c.handleSearch=function(e){c.setState({searchField:e.target.value})},c.handleSelect=function(e){c.setState({selectedSources:e})},c.getFilteredResults=function(){var e=c.state,t=e.news,n=e.searchField,a=e.selectedSources;if(!n&&0===a.length)return t;var s=a.map((function(e){return e.value}));return n?0===a.length?t.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())||e.feed_name.toLowerCase().includes(n.toLowerCase())})):t.filter((function(e){return(e.title.toLowerCase().includes(n.toLowerCase())||e.feed_name.toLowerCase().includes(n.toLowerCase()))&&s.includes(e.feed_name.toLowerCase())})):t.filter((function(e){return s.includes(e.feed_name.toLowerCase())}))},c.state={isLoading:!0,news:[],filtered:[],searchField:"",allSources:[],selectedSources:[]},c}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.getFilteredResults();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"News Me"}),Object(j.jsxs)("div",{className:"filters",children:[Object(j.jsx)(S,{placeholder:"Search news..",handleSearch:this.handleSearch}),Object(j.jsx)(b.a,{options:this.state.allSources,value:this.state.selectedSources,onChange:this.handleSelect,labelledBy:"Select",overrideStrings:{selectSomeItems:"Select feeds ...",allItemsAreSelected:"All feeds are selected.",selectAll:"Select All",search:"Search"}})]}),Object(j.jsx)(C,{onClick:function(){return e.loadData()},children:Object(j.jsx)("div",{className:"icon-reload"})}),this.state.isLoading?Object(j.jsx)(O,{}):Object(j.jsx)(w,{news:t})]})}}]),n}(c.Component)),N=n(4),I=(n(49),Object(m.g)((function(e){var t=Object(c.useState)(""),n=Object(N.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){e.match.params.feedId?r(e.match.params.feedId):s("")}),[e.match.params.feedId]);var r=function(e){fetch("".concat("https://news-me-backend.herokuapp.com","/api/feeds/sources/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.info(e),s(e.feeds.join(","))})).catch((function(e){console.error(e)}))};return Object(j.jsxs)("div",{className:"upsert-feed",children:[Object(j.jsx)("h1",{children:e.match.params.feedId?"Update Feed":"Create Feed"}),Object(j.jsx)("p",{className:"note",children:"Comma separated list of rss feeds. Save the resulting link to get back your feed any time."}),Object(j.jsx)("textarea",{onChange:function(e){s(e.target.value)},rows:10,value:a}),Object(j.jsx)(C,{onClick:function(){return e.match.params.feedId?void fetch("".concat("https://news-me-backend.herokuapp.com","/api/feeds/sources/").concat(e.match.params.feedId),{method:"POST",body:JSON.stringify({feeds:a})}).then((function(e){return e.json()})).then((function(t){return e.history.push("/feed/".concat(t.feed_id))})).catch((function(e){console.error(e)})):void fetch("".concat("https://news-me-backend.herokuapp.com","/api/feeds/sources"),{method:"POST",body:JSON.stringify({feeds:a})}).then((function(e){return e.json()})).then((function(t){return e.history.push("/feed/".concat(t.feed_id))})).catch((function(e){console.error(e)}))},children:"Save"})]})}))),L=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(p,{}),Object(j.jsxs)(m.c,{children:[Object(j.jsx)(m.a,{path:"/create",children:Object(j.jsx)(I,{})}),Object(j.jsx)(m.a,{path:"/feed/:feedId/edit",render:function(e){var t=e.match;return Object(j.jsx)(I,Object(i.a)({},t))}}),Object(j.jsx)(m.a,{path:"/feed/:feedId",render:function(e){var t=e.match;return Object(j.jsx)(y,{match:t})}}),Object(j.jsx)(m.a,{path:"/",render:function(){return Object(j.jsx)(y,{match:null})}})]}),Object(j.jsx)(f,{})]})}}]),n}(c.Component),F=L;r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{basename:"/",children:Object(j.jsx)(F,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.4245f423.chunk.js.map